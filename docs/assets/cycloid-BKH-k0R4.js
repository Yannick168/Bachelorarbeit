import"./modulepreload-polyfill-B5Qt9EMX.js";import{W as b,c as k,O as A,V as n,B as m,m as D,n as G,k as f,o as Z,p as j,q as H,i as J}from"./resizeViewport-C_UaWHga.js";const T=document.getElementById("canvas"),E=new b({canvas:T,antialias:!0});E.setPixelRatio(window.devicePixelRatio);E.setClearColor(16777215);const i=new k,w=new A(-10,10,5,-5,.1,100);w.position.z=10;const P=document.getElementById("distanceInput"),o=document.getElementById("slider"),F=document.getElementById("tInput"),M=document.getElementById("angleSlider"),I=document.getElementById("thetaInput"),t=1,C=Math.PI*4,K=.05;let y=parseFloat(P.value),v,h,g,L,z,O=[];function N(e){return new n(t+t*e,t,-.01)}function R(){[v,h,g,L,z].forEach(a=>{a&&i.remove(a)}),y=parseFloat(P.value);const e=t*(C+2);D(E,w,T,e);const s=new m().setFromPoints([new n(w.left,0,0),new n(w.right,0,0)]);z=new G(s,new f({color:0})),i.add(z);const c=new m().setFromPoints([]);v=new G(c,new f({color:255})),i.add(v);const l=[],u=64;for(let a=0;a<=u;a++){const p=a/u*Math.PI*2;l.push(new n(Math.cos(p)*t,Math.sin(p)*t,0))}const S=new m().setFromPoints(l);h=new Z(S,new f({color:0})),i.add(h);const x=new j(.1*t,16),B=new H({color:16711680});g=new J(x,B),i.add(g);const d=new m().setFromPoints([new n,new n]);L=new G(d,new f({color:0})),i.add(L),o.max=C.toFixed(2),F.max=C.toFixed(2),r(parseFloat(o.value))}function r(e){const s=parseFloat(I.value),c=s*Math.PI/180;y=parseFloat(P.value),o.value=e.toFixed(2),F.value=e.toFixed(2),M.value=s.toFixed(0);const l=N(e);h.position.copy(l),h.rotation.z=-e;const u=-e+c-Math.PI/2,S=new n(Math.cos(u),Math.sin(u),0).multiplyScalar(t*y);g.position.copy(l.clone().add(S));const x=[l.clone().setZ(0),g.position];L.geometry.setFromPoints(x),O=[];for(let d=0;d<=e;d+=K){const a=t+t*d,p=-d+c-Math.PI/2,W=new n(Math.cos(p),Math.sin(p),0).multiplyScalar(t*y),q=new n(a,t,0).add(W);O.push(q)}const B=new m().setFromPoints(O);v.geometry.dispose(),v.geometry=B}o.addEventListener("input",()=>r(parseFloat(o.value)));F.addEventListener("input",()=>r(parseFloat(F.value)));M.addEventListener("input",()=>{I.value=M.value,r(parseFloat(o.value))});I.addEventListener("input",()=>{M.value=I.value,r(parseFloat(o.value))});P.addEventListener("input",()=>r(parseFloat(o.value)));window.addEventListener("resize",()=>R());R();function V(){requestAnimationFrame(V),E.render(i,w)}V();window.updateCycloid=(e,s,c)=>{P.value=c.toString(),I.value=s.toString(),M.value=s.toString(),o.value=e.toString(),F.value=e.toString(),r(e)};
