import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css              */import{W,S as D,O as k,e as d,h as L,d as g,V as s,i as q,j as A,k as X,b as Y}from"./three.module-BZpdcylZ.js";import{r as Z}from"./resizeViewport-McQ4z10F.js";const I=document.getElementById("canvas"),y=new W({canvas:I,antialias:!0});y.setPixelRatio(window.devicePixelRatio);y.setClearColor(16777215);const r=new D,c=new k(-10,10,5,-5,.1,100);c.position.set(0,0,10);let n=1;const C=Math.PI*4,H=.05;let F=1,E=0,l,w,p,M,h,G=!1;function J(){const e=C+2;Z(y,c,I,e,16/9,!1),c.updateProjectionMatrix()}function S(){G||(J(),G=!0)}function K(e){return new s(n+n*e,n,-.01)}function O(){const e=Math.max(.5,.1*n),o=0-e,t=n*(2+C)+e;return{xmin:o,xmax:t}}function N(){const{xmin:e,xmax:o}=O(),t=new d().setFromPoints([new s(e,0,0),new s(o,0,0)]),i=new g({color:0});return new L(t,i)}function v(){[l,w,p,M,h].forEach(a=>{a&&r.remove(a)}),S(),h=N(),r.add(h);const e=new d().setFromPoints([]);l=new L(e,new g({color:255})),r.add(l);const o=[],t=64;for(let a=0;a<=t;a++){const P=a/t*Math.PI*2;o.push(new s(Math.cos(P)*n,Math.sin(P)*n,0))}const i=new d().setFromPoints(o);w=new q(i,new g({color:0})),r.add(w);const f=new A(.1*n,16),u=new X({color:16711680});p=new Y(f,u),r.add(p);const m=new d().setFromPoints([new s,new s]);M=new L(m,new g({color:0})),r.add(M),V(0)}function V(e){if(!w||!p||!M||!l)return;const o=E*Math.PI/180,t=K(e);w.position.copy(t),w.rotation.z=-e;const i=-e+o-Math.PI/2,f=new s(Math.cos(i),Math.sin(i),0).multiplyScalar(F);p.position.copy(t.clone().add(f));const u=[t.clone().setZ(0),p.position];M.geometry.setFromPoints(u);const m=[],a=Math.min(0,e),P=Math.max(0,e);for(let x=a;x<=P+1e-9;x+=H){const b=n+n*x,z=-x+o-Math.PI/2,j=new s(Math.cos(z),Math.sin(z),0).multiplyScalar(F);m.push(new s(b,n,0).add(j))}const T=new d().setFromPoints(m);l.geometry.dispose(),l.geometry=T}window.addEventListener("resize",()=>{G=!1,S(),v()});S();v();function B(){requestAnimationFrame(B),y.render(r,c)}B();window.updateTrochoid=(e,o,t,i)=>{if(typeof i=="number"&&isFinite(i)&&i>0&&(n=i),E=o,F=t,h){const{xmin:f,xmax:u}=O(),m=new d().setFromPoints([new s(f,0,0),new s(u,0,0)]);h.geometry.dispose(),h.geometry=m}v(),V(e)};I.addEventListener("wheel",e=>{e.preventDefault(),e.deltaY<0?c.zoom*=1.1:c.zoom/=1.1,c.updateProjectionMatrix()});
