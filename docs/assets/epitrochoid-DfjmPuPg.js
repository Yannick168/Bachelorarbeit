import"./modulepreload-polyfill-B5Qt9EMX.js";import{W as k,S as q,O as T,V as l,B as p,q as v,e as u,p as C,r as V,s as W,c as A}from"./three.module-BBdjkFqP.js";import{b as Z}from"./resizeViewport-CrUKsUJy.js";const R=document.getElementById("canvas"),P=new k({canvas:R,antialias:!0});P.setPixelRatio(window.devicePixelRatio);P.setClearColor(16777215);const a=new q,L=new T(-10,10,5,-5,.1,100);L.position.z=10;let t=1,n=1;const j=.05;let d,w,y,M,f,G=[];function F(e){const c=t/n,s=(t+n)*Math.cos(e)-n*Math.cos((1+c)*e),i=(t+n)*Math.sin(e)-n*Math.sin((1+c)*e);return new l(s,i,0)}function b(){[d,w,y,M,f].forEach(o=>{o&&a.remove(o)});const s=(t+2*n)*(1+.2);Z(P,L,R,s);const i=128,h=[];for(let o=0;o<=i;o++){const m=o/i*Math.PI*2;h.push(new l(Math.cos(m)*t,Math.sin(m)*t,0))}const g=new p().setFromPoints(h);y=new v(g,new u({color:11184810})),a.add(y);const r=[];for(let o=0;o<=i;o++){const m=o/i*Math.PI*2;r.push(new l(Math.cos(m)*n,Math.sin(m)*n,0))}const S=new p().setFromPoints(r);w=new v(S,new u({color:0})),a.add(w);const z=new p().setFromPoints([]);d=new C(z,new u({color:255})),a.add(d);const E=new V(.1*n,16),O=new W({color:16711680});M=new A(E,O),a.add(M);const I=new p().setFromPoints([new l,new l]);f=new C(I,new u({color:0})),a.add(f),x(0)}function x(e){const c=t/n,s=new l((t+n)*Math.cos(e),(t+n)*Math.sin(e),-.01);w.position.copy(s),w.rotation.z=-(1+c)*e;const i=F(e);M.position.copy(i);const h=[s.clone().setZ(0),i];f.geometry.setFromPoints(h),G=[];for(let r=0;r<=e;r+=j)G.push(F(r));const g=new p().setFromPoints(G);d.geometry.dispose(),d.geometry=g}window.addEventListener("resize",()=>b());b();function B(){requestAnimationFrame(B),P.render(a,L)}B();window.updateEpitrochoid=(e,c,s)=>{typeof c=="number"&&(t=c),typeof s=="number"&&(n=s),b(),x(e)};
