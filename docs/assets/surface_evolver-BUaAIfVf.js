import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css              */import{S as b,P as I,W as v,D as x,f as N,B as E,F as y,s as A,t as M,c as S}from"./three.module-DSlE2KXG.js";import{O as W}from"./OrbitControls-B0l2iyjX.js";const f=new b,h=new I(45,window.innerWidth/window.innerHeight,.1,1e3);h.position.set(2,2,3);const u=new v({antialias:!0});u.setSize(window.innerWidth,window.innerHeight);u.setClearColor(16777215);document.body.appendChild(u.domElement);const m=new W(h,u.domElement);m.enableDamping=!0;const w=new x(16777215,.8);w.position.set(3,3,3);f.add(w);f.add(new N(4210752));window.addEventListener("resize",()=>{h.aspect=window.innerWidth/window.innerHeight,h.updateProjectionMatrix(),u.setSize(window.innerWidth,window.innerHeight)});function z(p){const o=p.split(`
`),a=[],r=[],c=[];let s=null;for(let e of o){if(e=e.trim(),e===""||e.startsWith("//")){s=null;continue}if(/^vertices\b/i.test(e)){s="vertices";continue}if(/^edges\b/i.test(e)){s="edges";continue}if(/^(faces|facets)\b/i.test(e)){s="faces";continue}if(s==="vertices"){const n=e.match(/\(\s*([\-\d.eE+]+)\s+([\-\d.eE+]+)\s+([\-\d.eE+]+)\s*\)/);if(n){const i=parseFloat(n[1]),l=parseFloat(n[2]),d=parseFloat(n[3]);if(!isNaN(i)&&!isNaN(l)&&!isNaN(d)){a.push([i,l,d]);continue}}const t=e.split(/\s+/);if(t.length>=4){const i=parseFloat(t[1]),l=parseFloat(t[2]),d=parseFloat(t[3]);!isNaN(i)&&!isNaN(l)&&!isNaN(d)&&a.push([i,l,d])}}if(s==="edges"){const n=e.split(/\s+/);if(n.length>=3){const t=parseInt(n[1])-1,i=parseInt(n[2])-1;!isNaN(t)&&!isNaN(i)&&r.push([t,i])}}if(s==="faces"){if(console.log(e),e==="bodies  /* facets */"){s=null;continue}const n=e.replace(/\/\*.*?\*\//g,"").replace(/^face\s+/i,"").trim(),t=n.split(/\s+/);console.log(n),console.log(t);const i=[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])];let l=[];for(let d of i){let g=Math.abs(d)-1;d<0?l.push(r[g][1]):l.push(r[g][0])}c.push(l)}}return console.log(a,r,c),{vertices:a,faces:c}}function L(p){const o=new E,a=[];for(const c of p.faces)if(!(!Array.isArray(c)||c.length!==3))for(const s of c){const e=p.vertices[s];if(!e){console.warn(`Fehlender Vertex fÃ¼r Index ${s}`);continue}const[n,t,i]=e;a.push(n,t,i)}o.setAttribute("position",new y(a,3)),o.computeVertexNormals();const r=new A({color:6724044,side:M,flatShading:!1});return new S(o,r)}const C=document.getElementById("fileInput");C.addEventListener("change",p=>{const o=p.target;if(!o.files||o.files.length===0)return;const a=o.files[0],r=new FileReader;r.onload=function(c){var t;const s=(t=c.target)==null?void 0:t.result,e=z(s),n=L(e);f.clear(),f.add(w),f.add(new N(4210752)),f.add(n),m.reset()},r.readAsText(a)});function F(){requestAnimationFrame(F),m.update(),u.render(f,h)}F();
