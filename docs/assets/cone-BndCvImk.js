import"./modulepreload-polyfill-B5Qt9EMX.js";import{c as h,e as y,W as g,a as v,E as S,g as E,l as M,m as b,G as x,V as d}from"./three.module-CeZFd1pu.js";const f=new h,i=new y(75,window.innerWidth/window.innerHeight,.1,1e3),c=new g({antialias:!0});document.body.appendChild(c.domElement);c.setSize(window.innerWidth,window.innerHeight);i.position.set(0,0,5);let l=!1,s=new v;const a=new S(0,0,0,"YXZ"),n={forward:!1,backward:!1,left:!1,right:!1,up:!1,down:!1},L=1;window.addEventListener("mousedown",e=>{l=!0,s.set(e.clientX,e.clientY)});window.addEventListener("mouseup",()=>{l=!1});window.addEventListener("mousemove",e=>{if(!l)return;const w=e.clientX-s.x,o=e.clientY-s.y;s.set(e.clientX,e.clientY);const r=.002;a.setFromQuaternion(i.quaternion),a.y-=w*r,a.x-=o*r,a.x=Math.max(-Math.PI/2,Math.min(Math.PI/2,a.x)),i.quaternion.setFromEuler(a)});window.addEventListener("keydown",e=>{e.code==="KeyW"&&(n.forward=!0),e.code==="KeyS"&&(n.backward=!0),e.code==="KeyA"&&(n.left=!0),e.code==="KeyD"&&(n.right=!0),e.code==="Space"&&(n.up=!0),e.code==="ShiftLeft"&&(n.down=!0)});window.addEventListener("keyup",e=>{e.code==="KeyW"&&(n.forward=!1),e.code==="KeyS"&&(n.backward=!1),e.code==="KeyA"&&(n.left=!1),e.code==="KeyD"&&(n.right=!1),e.code==="Space"&&(n.up=!1),e.code==="ShiftLeft"&&(n.down=!1)});const W=new E(new M,new b);f.add(W);const K=new x(100,100);f.add(K);let u=performance.now();function m(){requestAnimationFrame(m);const e=performance.now(),w=(e-u)/1e3;u=e;const o=new d,r=new d,p=new d(0,1,0);i.getWorldDirection(o),o.normalize(),r.crossVectors(o,p).normalize();const t=new d;n.forward&&t.sub(o),n.backward&&t.add(o),n.left&&t.sub(r),n.right&&t.add(r),n.up&&(t.y+=1),n.down&&(t.y-=1),t.lengthSq()>0&&(t.normalize().multiplyScalar(L*w),i.position.add(t)),c.render(f,i)}m();window.addEventListener("resize",()=>{i.aspect=window.innerWidth/window.innerHeight,i.updateProjectionMatrix(),c.setSize(window.innerWidth,window.innerHeight)});
