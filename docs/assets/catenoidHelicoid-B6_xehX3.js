import{S as K,C as Q,W as T,P as U,A as X,D as Y,H as Z,a as _,M as k,F as $,B as ee,b as W,L as te,c as G,d as ne,e as se,f as F}from"./three.module-B-_qvbDJ.js";import{O as oe}from"./OrbitControls-BswUpIpQ.js";const s=new K;s.background=new Q(16777215);const j=document.getElementById("canvas"),d=new T(j?{canvas:j,antialias:!0}:{antialias:!0});d.setPixelRatio(Math.min(window.devicePixelRatio,2));d.setSize(window.innerWidth,window.innerHeight);const f=new U(45,window.innerWidth/window.innerHeight,.01,1e3);f.position.set(6,6,6);s.add(new X(16777215,.85));const R=new Y(16777215,.6);R.position.set(5,10,8);s.add(R);s.add(new Z(16777215,8947865,.25));const z=new _(1.5);z.visible=!0;s.add(z);const v=new oe(f,d.domElement);v.enableDamping=!0;v.target.set(0,0,0);let t={alpha:0,c:1,vMin:-2,vMax:2,uSegments:30,vSegments:30};const ie=new k({vertexColors:!0,side:$,shininess:60,specular:2236962}),ae=new k({color:10066329,side:ee,shininess:10});let p=null,u=null,c=null;function E(n){const{alpha:e,c:M,vMin:B,vMax:I,uSegments:m,vSegments:y}=n,H=[],P=[],A=[],b=Math.cos(e),x=Math.sin(e);for(let o=0;o<=y;o++){const r=o/y,i=B+(I-B)*r,g=i/M,l=Math.cosh(g),w=Math.sinh(g);for(let S=0;S<=m;S++){const h=2*Math.PI*(S/m),O=M*(Math.cos(h)*l*b+Math.sin(h)*w*x),q=M*(Math.sin(h)*l*b-Math.cos(h)*w*x),N=i*b+M*h*x;H.push(O,q,N);const C=r,V=C,J=1-C;P.push(V,J,.15)}}for(let o=0;o<y;o++)for(let r=0;r<m;r++){const i=o*(m+1)+r,g=i+1,l=i+(m+1),w=l+1;A.push(i,g,w,i,w,l)}const a=new se;return a.setAttribute("position",new F(H,3)),a.setAttribute("color",new F(P,3)),a.setIndex(A),a.computeVertexNormals(),a.center(),a}function re(){var e;const n=E(t);p=new W(n,ie),u=new W(n,ae),s.add(p,u),c=new te(new G(n),new ne({color:0})),c.renderOrder=1,s.add(c);try{(e=window.parent)==null||e.postMessage({type:"ready"},"*")}catch{}}re();function L(){if(!p||!u||!c)return;const n=E(t);p.geometry.dispose(),u.geometry.dispose(),c.geometry.dispose(),p.geometry=n,u.geometry=n,c.geometry=new G(n),v.target.set(0,0,0)}window.addEventListener("message",n=>{const e=n.data;!e||typeof e!="object"||(e.type==="update"&&(typeof e.alpha=="number"&&(t.alpha=e.alpha),typeof e.c=="number"&&(t.c=Math.max(.05,e.c)),typeof e.L=="number"&&(t.vMin=-e.L,t.vMax=e.L),typeof e.vMin=="number"&&(t.vMin=e.vMin),typeof e.vMax=="number"&&(t.vMax=e.vMax),typeof e.uSegments=="number"&&(t.uSegments=Math.max(4,Math.floor(e.uSegments))),typeof e.vSegments=="number"&&(t.vSegments=Math.max(4,Math.floor(e.vSegments))),t.vMin>t.vMax&&([t.vMin,t.vMax]=[t.vMax,t.vMin]),L()),e.type==="alpha"&&typeof e.alpha=="number"&&(t.alpha=e.alpha,L()))},!1);window.updateCatenoidHelicoid=n=>{typeof n=="number"&&(t.alpha=n,L())};window.updateCH=n=>{const e={type:"update",...n};window.postMessage(e,"*")};window.addEventListener("resize",()=>{f.aspect=window.innerWidth/window.innerHeight,f.updateProjectionMatrix(),d.setPixelRatio(Math.min(window.devicePixelRatio,2)),d.setSize(window.innerWidth,window.innerHeight)});function D(){requestAnimationFrame(D),v.update(),d.render(s,f)}D();
