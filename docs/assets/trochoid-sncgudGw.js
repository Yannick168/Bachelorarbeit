import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css              */import{W as T,S as b,O as V,e as h,V as o,h as G,d as M,i as W,j,k as D,b as k}from"./three.module-BZpdcylZ.js";import{r as q}from"./resizeViewport-McQ4z10F.js";const S=document.getElementById("canvas"),P=new T({canvas:S,antialias:!0});P.setPixelRatio(window.devicePixelRatio);P.setClearColor(16777215);const c=new b,i=new V(-10,10,5,-5,.1,100);i.position.set(0,0,10);let t=1;const A=Math.PI*4,Y=.05;let x=1,z=0,m,l,w,p,F;function Z(e){return new o(t+t*e,t,-.01)}function v(){[m,l,w,p,F].forEach(s=>{s&&c.remove(s)});const e=t*(A+2);q(P,i,S,e,16/9,!1);const d=new h().setFromPoints([new o(i.left,0,0),new o(i.right,0,0)]);F=new G(d,new M({color:0})),c.add(F);const a=new h().setFromPoints([]);m=new G(a,new M({color:255})),c.add(m);const n=[],f=64;for(let s=0;s<=f;s++){const r=s/f*Math.PI*2;n.push(new o(Math.cos(r)*t,Math.sin(r)*t,0))}const g=new h().setFromPoints(n);l=new W(g,new M({color:0})),c.add(l);const u=new j(.1*t,16),y=new D({color:16711680});w=new k(u,y),c.add(w);const L=new h().setFromPoints([new o,new o]);p=new G(L,new M({color:0})),c.add(p),C(0)}function C(e){if(!l||!w||!p||!m)return;const d=z*Math.PI/180,a=Z(e);l.position.copy(a),l.rotation.z=-e;const n=-e+d+Math.PI/2,f=new o(Math.cos(n),Math.sin(n),0).multiplyScalar(x);w.position.copy(a.clone().add(f));const g=[a.clone().setZ(0),w.position];p.geometry.setFromPoints(g);const u=[],y=Math.min(0,e),L=Math.max(0,e);for(let r=y;r<=L+1e-9;r+=Y){const E=t+t*r,I=-r+d+Math.PI/2,O=new o(Math.cos(I),Math.sin(I),0).multiplyScalar(x);u.push(new o(E,t,0).add(O))}const s=new h().setFromPoints(u);m.geometry.dispose(),m.geometry=s}window.addEventListener("resize",()=>v());v();function B(){requestAnimationFrame(B),P.render(c,i)}B();window.updateTrochoid=(e,d,a,n)=>{typeof n=="number"&&isFinite(n)&&n>0&&(t=n),z=d,x=a,v(),C(e)};S.addEventListener("wheel",e=>{e.preventDefault(),e.deltaY<0?i.zoom*=1.1:i.zoom/=1.1,i.updateProjectionMatrix()});
