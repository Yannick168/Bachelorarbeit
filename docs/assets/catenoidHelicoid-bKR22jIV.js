import"./modulepreload-polyfill-B5Qt9EMX.js";import{S as R,C as U,a as q,W as N,P as V,D as J,A as K,M as P,F as Q,B as T,L as F,c as H,d as W,g as B,e as X,b as Y}from"./three.module-DINZjAyq.js";import{O as Z}from"./OrbitControls-qZelmwe1.js";const r=new R;r.background=new U(16777215);r.add(new q(2));const G=document.getElementById("canvas"),L=new N({canvas:G,antialias:!0}),d=new V(45,2,.1,100);d.position.set(8,2,5);d.up.set(0,0,1);d.lookAt(0,0,0);function k(){const e=G.clientWidth||window.innerWidth,n=G.clientHeight||window.innerHeight;L.setSize(e,n,!1),d.aspect=e/n,d.updateProjectionMatrix()}k();window.addEventListener("resize",k);const z=new Z(d,L.domElement);z.enableDamping=!0;{const e=new J(16777215,1);e.position.set(1,2,3),r.add(e),r.add(new K(16777215,.4))}let l=30,u=30,w=2,M=1,v=0,t,y,i,A,x;const _=new P({vertexColors:!0,side:Q}),$=new P({color:8947848,side:T});function ee(e,n){const o=[];for(let s=0;s<n;s++)for(let a=0;a<e;a++){const c=s*(e+1)+a,g=c+1,p=c+(e+1),f=p+1;o.push(c,g,f,c,f,p)}return o}function I(){const e=(l+1)*(u+1),n=new Float32Array(e*3),o=new Float32Array(e*3),s=ee(l,u);A=new B(n,3),x=new B(o,3),t&&t.dispose(),t=new X,t.setAttribute("position",A),t.setAttribute("color",x),t.setIndex(s),y?(y.geometry=t,t.clearGroups(),t.addGroup(0,s.length,0),t.addGroup(0,s.length,1)):(y=new Y(t,[_,$]),t.clearGroups(),t.addGroup(0,s.length,0),t.addGroup(0,s.length,1),r.add(y)),i&&(r.remove(i),i.geometry.dispose()),i=new F(new H(t),new W({color:0})),r.add(i),S()}function S(){const e=A.array,n=x.array,o=Math.cos(v),s=Math.sin(v);for(let a=0;a<=u;a++){const c=-w+2*w*(a/u),g=c/M,p=Math.cosh(g),f=Math.sinh(g);for(let b=0;b<=l;b++){const h=2*Math.PI*(b/l),m=(a*(l+1)+b)*3,D=M*(Math.cos(h)*p*o+Math.sin(h)*f*s),E=M*(Math.sin(h)*p*o-Math.cos(h)*f*s),O=c*o+M*h*s;e[m+0]=D,e[m+1]=E,e[m+2]=O;const C=(c+w)/(2*w);n[m+0]=C,n[m+1]=1-C,n[m+2]=.1}}A.needsUpdate=!0,x.needsUpdate=!0,t.computeVertexNormals(),r.remove(i),i.geometry.dispose(),i=new F(new H(t),new W({color:0})),r.add(i)}window.updateCatenoidHelicoid=e=>{v=e,S()};window.updateCH=e=>{let n=!1;if(typeof e.alpha=="number"&&(v=e.alpha),typeof e.c=="number"&&(M=Math.max(.05,e.c)),typeof e.L=="number"&&(w=Math.max(.1,e.L)),typeof e.uSegments=="number"){const o=Math.max(8,Math.floor(e.uSegments));o!==l&&(l=o,n=!0)}if(typeof e.vSegments=="number"){const o=Math.max(8,Math.floor(e.vSegments));o!==u&&(u=o,n=!0)}n?I():S()};I();function j(){requestAnimationFrame(j),z.update(),L.render(r,d)}j();
