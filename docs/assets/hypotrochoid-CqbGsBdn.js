import"./modulepreload-polyfill-B5Qt9EMX.js";import{W as T,S as V,O as j,V as l,B as d,i as C,e as M,h as F,j as W,k as q,c as A}from"./three.module-e7rftcMR.js";import{a as D}from"./resizeViewport-DpCXGKS2.js";const b=document.getElementById("canvas"),y=new T({canvas:b,antialias:!0});y.setPixelRatio(window.devicePixelRatio);y.setClearColor(16777215);const r=new V,m=new j(-10,10,5,-5,.1,100);m.position.z=10;let s=4,o=1,g=1;const H=.05;let h,w,v,f,P,G=[];function z(e){const a=(s-o)/o,i=(s-o)*Math.cos(e)+g*Math.cos(a*e),t=(s-o)*Math.sin(e)-g*Math.sin(a*e);return new l(i,t,0)}function x(){[h,w,v,f,P].forEach(n=>{n&&r.remove(n)});const i=(s+g+o)*(1+.2);D(y,m,b,i*2,16/9,!0);const t=128,u=[];for(let n=0;n<=t;n++){const p=n/t*Math.PI*2;u.push(new l(Math.cos(p)*s,Math.sin(p)*s,0))}const L=new d().setFromPoints(u);v=new C(L,new M({color:11184810})),r.add(v);const c=[];for(let n=0;n<=t;n++){const p=n/t*Math.PI*2;c.push(new l(Math.cos(p)*o,Math.sin(p)*o,0))}const S=new d().setFromPoints(c);w=new C(S,new M({color:0})),r.add(w);const E=new d().setFromPoints([]);h=new F(E,new M({color:255})),r.add(h);const O=new W(.1*o,16),k=new q({color:16711680});f=new A(O,k),r.add(f);const I=new d().setFromPoints([new l,new l]);P=new F(I,new M({color:0})),r.add(P),R(0)}function R(e){const a=(s-o)/o,i=new l((s-o)*Math.cos(e),(s-o)*Math.sin(e),-.01);w.position.copy(i),w.rotation.z=-a*e;const t=z(e);f.position.copy(t);const u=[i.clone().setZ(0),t];P.geometry.setFromPoints(u),G=[];for(let c=0;c<=e;c+=H)G.push(z(c));const L=new d().setFromPoints(G);h.geometry.dispose(),h.geometry=L}window.addEventListener("resize",()=>x());x();function B(){requestAnimationFrame(B),y.render(r,m)}B();window.updateHypotrochoid=(e,a,i,t)=>{typeof a=="number"&&(s=a),typeof i=="number"&&(o=i),typeof t=="number"&&(g=t),x(),R(e)};b.addEventListener("wheel",e=>{e.preventDefault(),e.deltaY<0?m.zoom*=1.1:m.zoom/=1.1,m.updateProjectionMatrix()});
