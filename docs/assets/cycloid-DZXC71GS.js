import"./modulepreload-polyfill-B5Qt9EMX.js";import{W as V,c as W,O as b,V as i,B as l,m as q,n as G,k as M,o as k,p as A,q as Z,i as j}from"./resizeViewport-DN-gXKM6.js";const x=document.getElementById("webgl-container"),P=new V({canvas:x,antialias:!0});P.setPixelRatio(window.devicePixelRatio);P.setClearColor(16777215);const r=new W,w=new b(-10,10,5,-5,.1,100);w.position.z=10;const t=1,D=Math.PI*4,H=.05;let d,m,p,f,C,I=[],B=0,F=0,T=1;function J(e){return new i(t+t*e,t,-.01)}function z(){[d,m,p,f,C].forEach(o=>{o&&r.remove(o)});const e=t*(D+2);q(P,w,x,e);const n=new l().setFromPoints([new i(w.left,0,0),new i(w.right,0,0)]);C=new G(n,new M({color:0})),r.add(C);const s=new l().setFromPoints([]);d=new G(s,new M({color:255})),r.add(d);const a=[],c=64;for(let o=0;o<=c;o++){const u=o/c*Math.PI*2;a.push(new i(Math.cos(u)*t,Math.sin(u)*t,0))}const h=new l().setFromPoints(a);m=new k(h,new M({color:0})),r.add(m);const g=new A(.1*t,16),y=new Z({color:16711680});p=new j(g,y),r.add(p);const L=new l().setFromPoints([new i,new i]);f=new G(L,new M({color:0})),r.add(f),S(B,F,T)}function S(e,n,s){B=e,F=n,T=s;const a=n*Math.PI/180,c=J(e);m.position.copy(c),m.rotation.z=-e;const h=-e+a-Math.PI/2,g=new i(Math.cos(h),Math.sin(h),0).multiplyScalar(t*s);p.position.copy(c.clone().add(g));const y=[c.clone().setZ(0),p.position];f.geometry.setFromPoints(y),I=[];for(let o=0;o<=e;o+=H){const u=t+t*o,v=-o+a-Math.PI/2,O=new i(Math.cos(v),Math.sin(v),0).multiplyScalar(t*s),R=new i(u,t,0).add(O);I.push(R)}const L=new l().setFromPoints(I);d.geometry.dispose(),d.geometry=L}window.addEventListener("message",e=>{const n=e.data;if((n==null?void 0:n.type)==="update"){const{t:s,theta:a,distance:c}=n;S(s,a,c)}});window.addEventListener("resize",()=>z());z();function E(){requestAnimationFrame(E),P.render(r,w)}E();window.updateCycloid=(e,n,s)=>{S(e,n,s)};
