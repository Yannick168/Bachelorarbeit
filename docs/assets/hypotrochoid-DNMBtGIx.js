import{W as B,S as C,O as E,V as c,e as l,j as O,d as f,g as S,k as G,l as R,b as V}from"./three.module-B-_qvbDJ.js";/* empty css              */import{r as _}from"./resizeViewport-McQ4z10F.js";const F=document.getElementById("canvas"),u=new B({canvas:F,antialias:!0});u.setPixelRatio(window.devicePixelRatio);u.setClearColor(16777215);const a=new C,d=new E(-10,10,5,-5,.1,100);d.position.z=10;let i=4,s=1,g=1;const X=.05;let h,w,y,p,m,P=[];const j=8,x=4,k=2*x,T=(j+x+k)*1.1;let L=!1;function v(){if(L)return;const e=T*2;_(u,d,F,e,16/9,!0),d.updateProjectionMatrix(),L=!0}function b(e){const t=(i-s)/s,n=(i-s)*Math.cos(e)+g*Math.cos(t*e),o=(i-s)*Math.sin(e)-g*Math.sin(t*e);return new c(n,o,0)}function I(){[h,w,y,p,m].forEach(t=>{t&&a.remove(t)}),v();const e=128;{const t=[];for(let o=0;o<=e;o++){const r=o/e*Math.PI*2;t.push(new c(Math.cos(r)*i,Math.sin(r)*i,0))}const n=new l().setFromPoints(t);y=new O(n,new f({color:11184810})),a.add(y)}{const t=[];for(let o=0;o<=e;o++){const r=o/e*Math.PI*2;t.push(new c(Math.cos(r)*s,Math.sin(r)*s,0))}const n=new l().setFromPoints(t);w=new O(n,new f({color:0})),a.add(w)}{const t=new l().setFromPoints([]);h=new S(t,new f({color:255})),a.add(h)}{const t=new G(.1*s,16),n=new R({color:16711680,depthTest:!1});p=new V(t,n),p.renderOrder=10,a.add(p)}{const t=new l().setFromPoints([new c,new c]);m=new S(t,new f({color:0})),m.renderOrder=5,a.add(m)}A(0)}function A(e){const t=(i-s)/s,n=new c((i-s)*Math.cos(e),(i-s)*Math.sin(e),-.01);w.position.copy(n),w.rotation.z=-t*e;const o=b(e);p.position.copy(o),m.geometry.setFromPoints([n.clone().setZ(0),o]),P=[];for(let M=0;M<=e;M+=X)P.push(b(M));const r=new l().setFromPoints(P);h.geometry.dispose(),h.geometry=r}window.addEventListener("resize",()=>{L=!1,v(),I()});v();I();function z(){requestAnimationFrame(z),u.render(a,d)}z();window.updateHypotrochoid=(e,t,n,o)=>{typeof t=="number"&&(i=t),typeof n=="number"&&(s=n),typeof o=="number"&&(g=o),I(),A(e)};F.addEventListener("wheel",e=>{e.preventDefault(),d.zoom*=e.deltaY<0?1.1:1/1.1,d.updateProjectionMatrix()});
