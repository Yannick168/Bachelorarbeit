import"./modulepreload-polyfill-B5Qt9EMX.js";import{S as v,P as y,W as E,o as S,p as I,H as L,f as F,B as z,F as A,l as M,a as B,b as P,c as b,L as W,d as C,e as H,G,q as j,V as w}from"./three.module-e7rftcMR.js";import{O as k}from"./OrbitControls-DfK9pJJV.js";const O="/Bachelorarbeit/assets/catenoid_finished-Di9ZX2Iv.fe",p=new v,r=new y(45,window.innerWidth/window.innerHeight,.1,1e3);r.position.set(2,2,3);const h=new E({antialias:!0});h.setSize(window.innerWidth,window.innerHeight);h.setClearColor(16777215);h.toneMapping=S;h.toneMappingExposure=1.6;document.body.appendChild(h.domElement);const u=new k(r,h.domElement);u.enableDamping=!0;const V=new I(16777215,8,0,2);r.add(V);p.add(r);const x=new L(16777215,7829367,1);p.add(x);p.add(new F(16777215,.2));window.addEventListener("resize",()=>{r.aspect=window.innerWidth/window.innerHeight,r.updateProjectionMatrix(),h.setSize(window.innerWidth,window.innerHeight)});function D(f){const a=f.split(`
`),o=[],c=[],m=[];let e=null;for(let t of a){if(t=t.trim(),t===""||t.startsWith("//")){e=null;continue}if(/^vertices\b/i.test(t)){e="vertices";continue}if(/^edges\b/i.test(t)){e="edges";continue}if(/^(faces|facets)\b/i.test(t)){e="faces";continue}if(e==="vertices"){const l=t.match(/\(\s*([\-\d.eE+]+)\s+([\-\d.eE+]+)\s+([\-\d.eE+]+)\s*\)/);if(l){const s=parseFloat(l[1]),d=parseFloat(l[2]),i=parseFloat(l[3]);if(!isNaN(s)&&!isNaN(d)&&!isNaN(i)){o.push([s,d,i]);continue}}const n=t.split(/\s+/);if(n.length>=4){const s=parseFloat(n[1]),d=parseFloat(n[2]),i=parseFloat(n[3]);!isNaN(s)&&!isNaN(d)&&!isNaN(i)&&o.push([s,d,i])}}if(e==="edges"){const l=t.split(/\s+/);if(l.length>=3){const n=parseInt(l[1])-1,s=parseInt(l[2])-1;!isNaN(n)&&!isNaN(s)&&c.push([n,s])}}if(e==="faces"){if(t==="bodies  /* facets */"){e=null;continue}const n=t.replace(/\/\*.*?\*\//g,"").replace(/^face\s+/i,"").trim().split(/\s+/),s=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])];let d=[];for(let i of s){let g=Math.abs(i)-1;i<0?d.push(c[g][1]):d.push(c[g][0])}m.push(d)}}return{vertices:o,faces:m}}function U(f){const a=new z,o=[];for(const s of f.faces)if(!(!Array.isArray(s)||s.length!==3))for(const d of s){const i=f.vertices[d];if(!i){console.warn(`Fehlender Vertex fÃ¼r Index ${d}`);continue}o.push(i[0],i[1],i[2])}a.setAttribute("position",new A(o,3)),a.computeVertexNormals();const c=new M({color:4584770,side:B,metalness:0,roughness:.35}),m=new M({color:16711680,side:P,metalness:0,roughness:.35}),e=new b(a,c),t=new b(a,m),l=new W(new C(a),new H({color:0})),n=new G;return n.add(e),n.add(t),n.add(l),n}function $(f){const a=new j().setFromObject(f),o=a.getSize(new w),c=a.getCenter(new w),e=(Math.max(o.x,o.y,o.z)*.6+1e-6)/Math.tan(r.fov*Math.PI/360);r.position.copy(c.clone().add(new w(e,e,e))),r.near=Math.max(.01,e*.01),r.far=Math.max(1e3,e*10),r.updateProjectionMatrix(),u.target.copy(c),u.update()}async function q(){const a=new URLSearchParams(location.search).get("fe"),o=a?"/Bachelorarbeit/"+a:O,c=await fetch(o);if(!c.ok)throw new Error(`Konnte ${o} nicht laden (${c.status})`);const m=await c.text(),e=D(m),t=U(e);p.clear(),p.add(r),p.add(x),p.add(new F(16777215,.2)),p.add(t),$(t)}q().catch(f=>console.error(f));function N(){requestAnimationFrame(N),u.update(),h.render(p,r)}N();
